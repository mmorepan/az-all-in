{
  "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "ApimServiceName": {
      "type": "string"
    },
    "PolicyXMLBaseUrl": {
      "type": "string"
    },
    "BackendServiceUrl": {
      "type": "string"
    },
    "OauthServerId": {
      "type": "string"
    },
    "ProductsApiName": {
      "type": "object"
    }
  },
  "variables": {},
  "resources": [
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api')]",
      "type": "Microsoft.ApiManagement/service/apis",
      "apiVersion": "2019-01-01",
      "dependsOn": [],
      "properties": {
        "displayName": "CA Digital Service Api",
        "apiRevision": "1",
        "description": "Api Documentation",
        "subscriptionRequired": true,
        "serviceUrl": "[parameters('BackendServiceUrl')]",
        "path": "ca-digital-service",
        "protocols": [
          "https"
        ],
        "authenticationSettings": {
          "oAuth2": {
            "authorizationServerId": "[parameters('OauthServerId')]"
          }
        },
        "subscriptionKeyParameterNames": {
          "header": "Ocp-Apim-Subscription-Key",
          "query": "subscription-key"
        },
        "isCurrent": true
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/5f56a45dd4ce8413580638ed')]",
      "type": "Microsoft.ApiManagement/service/apis/schemas",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'ca-digital-service-api')]"
      ],
      "properties": {
        "contentType": "application/vnd.ms-azure-apim.swagger.definitions+json",
        "document": {
          "value": "{\"CancelRequestType\":{\"type\":\"object\",\"properties\":{\"companyDocumentNumber\":{\"type\":\"string\"},\"companyDocumentType\":{\"type\":\"integer\",\"format\":\"int32\"},\"productType\":{\"type\":\"integer\",\"format\":\"int32\"},\"reason\":{\"type\":\"string\"},\"serviceId\":{\"type\":\"string\"},\"userDocumentNumber\":{\"type\":\"string\"},\"userDocumentType\":{\"type\":\"integer\",\"format\":\"int32\"}},\"title\":\"CancelRequestType\"},\"FacturaAlTokeSendResponse\":{\"type\":\"object\",\"properties\":{\"service\":{\"$ref\":\"#/definitions/FacturaAlTokeService\"}},\"title\":\"FacturaAlTokeSendResponse\"},\"FacturaAlTokeService\":{\"type\":\"object\",\"properties\":{\"activationDate\":{\"type\":\"string\"},\"error\":{\"type\":\"string\"},\"expirationDate\":{\"type\":\"string\"},\"serviceId\":{\"type\":\"integer\",\"format\":\"int32\"},\"status\":{\"type\":\"string\"},\"statusResponse\":{\"type\":\"boolean\"},\"unsubscribeDate\":{\"type\":\"string\"}},\"title\":\"FacturaAlTokeService\"},\"FacturaAlTokeStatus\":{\"type\":\"object\",\"properties\":{\"activationDate\":{\"type\":\"string\"},\"error\":{\"type\":\"string\"},\"expirationDate\":{\"type\":\"string\"},\"serviceId\":{\"type\":\"integer\",\"format\":\"int32\"},\"status\":{\"type\":\"string\"},\"statusResponse\":{\"type\":\"boolean\"},\"unsubscribeDate\":{\"type\":\"string\"}},\"title\":\"FacturaAlTokeStatus\"},\"FacturaAlTokeStatusResponse\":{\"type\":\"object\",\"properties\":{\"status\":{\"$ref\":\"#/definitions/FacturaAlTokeStatus\"}},\"title\":\"FacturaAlTokeStatusResponse\"},\"FacturaTokeSendRequest\":{\"type\":\"object\",\"properties\":{\"channelId\":{\"type\":\"integer\",\"format\":\"int32\"},\"phoneNumber\":{\"type\":\"string\"},\"planId\":{\"type\":\"string\"},\"ruc\":{\"type\":\"string\"},\"segment\":{\"type\":\"integer\",\"format\":\"int32\"},\"serviceId\":{\"type\":\"integer\",\"format\":\"int32\"},\"source\":{\"type\":\"integer\",\"format\":\"int32\"},\"tradeName\":{\"type\":\"string\"},\"userEmail\":{\"type\":\"string\"},\"userLastName\":{\"type\":\"string\"},\"userName\":{\"type\":\"string\"}},\"title\":\"FacturaTokeSendRequest\"},\"Flux«ServicesListResponse»\":{\"type\":\"object\",\"properties\":{\"prefetch\":{\"type\":\"integer\",\"format\":\"int32\"}},\"title\":\"Flux«ServicesListResponse»\"},\"LoginResponse\":{\"type\":\"object\",\"properties\":{\"Authorized\":{\"$ref\":\"#/definitions/VirtualAnswerSupply\"}},\"title\":\"LoginResponse\"},\"Mono«FacturaAlTokeSendResponse»\":{\"type\":\"object\",\"title\":\"Mono«FacturaAlTokeSendResponse»\"},\"Mono«FacturaAlTokeStatusResponse»\":{\"type\":\"object\",\"title\":\"Mono«FacturaAlTokeStatusResponse»\"},\"Mono«LoginResponse»\":{\"type\":\"object\",\"title\":\"Mono«LoginResponse»\"},\"Mono«Office365LicenseResponse»\":{\"type\":\"object\",\"title\":\"Mono«Office365LicenseResponse»\"},\"Mono«Office365SupplyResponse»\":{\"type\":\"object\",\"title\":\"Mono«Office365SupplyResponse»\"},\"Mono«ProviderVisualSoftCancelResponse»\":{\"type\":\"object\",\"title\":\"Mono«ProviderVisualSoftCancelResponse»\"},\"Mono«TokenResponse»\":{\"type\":\"object\",\"title\":\"Mono«TokenResponse»\"},\"Mono«VirtualAnswerLandlineResponse»\":{\"type\":\"object\",\"title\":\"Mono«VirtualAnswerLandlineResponse»\"},\"Mono«VirtualAnswerSupplyResponse»\":{\"type\":\"object\",\"title\":\"Mono«VirtualAnswerSupplyResponse»\"},\"Mono«VisualSoftListServiceResponse»\":{\"type\":\"object\",\"title\":\"Mono«VisualSoftListServiceResponse»\"},\"Mono«WebViewApiResponse»\":{\"type\":\"object\",\"title\":\"Mono«WebViewApiResponse»\"},\"Office365License\":{\"type\":\"object\",\"properties\":{\"activeService\":{\"type\":\"boolean\"},\"message\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"format\":\"int64\"}},\"title\":\"Office365License\"},\"Office365LicenseResponse\":{\"type\":\"object\",\"properties\":{\"Service\":{\"$ref\":\"#/definitions/Office365License\"}},\"title\":\"Office365LicenseResponse\"},\"Office365Supply\":{\"type\":\"object\",\"properties\":{\"completed\":{\"type\":\"boolean\"},\"message\":{\"type\":\"string\"},\"serviceId\":{\"type\":\"string\"}},\"title\":\"Office365Supply\"},\"Office365SupplyRequest\":{\"type\":\"object\",\"properties\":{\"addressCustomer\":{\"type\":\"string\"},\"billingCycle\":{\"type\":\"string\"},\"cityCustomer\":{\"type\":\"string\"},\"companyName\":{\"type\":\"string\"},\"country\":{\"type\":\"string\"},\"language\":{\"type\":\"string\"},\"offerId\":{\"type\":\"string\"},\"phoneNumber\":{\"type\":\"string\"},\"planDescription\":{\"type\":\"string\"},\"planId\":{\"type\":\"string\"},\"planPrice\":{\"type\":\"number\",\"format\":\"double\"},\"planProductName\":{\"type\":\"string\"},\"planQtyOptions\":{\"type\":\"integer\",\"format\":\"int32\"},\"quantityLicenses\":{\"type\":\"integer\",\"format\":\"int32\"},\"ruc\":{\"type\":\"string\"},\"termDuration\":{\"type\":\"string\"},\"userDocumentType\":{\"type\":\"integer\",\"format\":\"int32\"},\"userEmail\":{\"type\":\"string\"},\"userLastName\":{\"type\":\"string\"},\"userName\":{\"type\":\"string\"},\"userdocumentNumber\":{\"type\":\"string\"}},\"title\":\"Office365SupplyRequest\"},\"Office365SupplyResponse\":{\"type\":\"object\",\"properties\":{\"Service\":{\"$ref\":\"#/definitions/Office365Supply\"}},\"title\":\"Office365SupplyResponse\"},\"ProviderVisualSoftCancelRequest\":{\"type\":\"object\",\"properties\":{\"cancelRequest\":{\"$ref\":\"#/definitions/CancelRequestType\"}},\"title\":\"ProviderVisualSoftCancelRequest\"},\"ProviderVisualSoftCancelResponse\":{\"type\":\"object\",\"properties\":{\"response\":{\"$ref\":\"#/definitions/ResponseType\"}},\"title\":\"ProviderVisualSoftCancelResponse\"},\"ResponseType\":{\"type\":\"object\",\"properties\":{\"completed\":{\"type\":\"boolean\"},\"date\":{\"type\":\"string\"},\"message\":{\"type\":\"string\"}},\"title\":\"ResponseType\"},\"ServicesListResponse\":{\"type\":\"object\",\"properties\":{\"activationDate\":{\"type\":\"string\"},\"expirationDate\":{\"type\":\"string\"},\"number\":{\"type\":\"string\"},\"provider\":{\"type\":\"string\"},\"providerId\":{\"type\":\"string\"},\"status\":{\"type\":\"string\"}},\"title\":\"ServicesListResponse\"},\"TokenResponse\":{\"type\":\"object\",\"properties\":{\"generateDate\":{\"type\":\"string\"},\"token\":{\"type\":\"string\"}},\"title\":\"TokenResponse\"},\"VirtualAnswerLandline\":{\"type\":\"object\",\"properties\":{\"activeService\":{\"type\":\"boolean\"},\"message\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"format\":\"int64\"}},\"title\":\"VirtualAnswerLandline\"},\"VirtualAnswerLandlineResponse\":{\"type\":\"object\",\"properties\":{\"LandLine\":{\"$ref\":\"#/definitions/VirtualAnswerLandline\"}},\"title\":\"VirtualAnswerLandlineResponse\"},\"VirtualAnswerSupply\":{\"type\":\"object\",\"properties\":{\"completed\":{\"type\":\"boolean\"},\"message\":{\"type\":\"string\"},\"urlAccess\":{\"type\":\"string\"}},\"title\":\"VirtualAnswerSupply\"},\"VirtualAnswerSupplyRequest\":{\"type\":\"object\",\"properties\":{\"companyName\":{\"type\":\"string\"},\"phoneNumber\":{\"type\":\"string\"},\"planDescription\":{\"type\":\"string\"},\"planId\":{\"type\":\"string\"},\"planPrice\":{\"type\":\"number\",\"format\":\"double\"},\"planProductName\":{\"type\":\"string\"},\"planQtyOptions\":{\"type\":\"integer\",\"format\":\"int32\"},\"productType\":{\"type\":\"integer\",\"format\":\"int32\"},\"quantity\":{\"type\":\"integer\",\"format\":\"int32\"},\"ruc\":{\"type\":\"string\"},\"subscriptionTime\":{\"type\":\"integer\",\"format\":\"int32\"},\"userDocumentType\":{\"type\":\"integer\",\"format\":\"int32\"},\"userEmail\":{\"type\":\"string\"},\"userLastName\":{\"type\":\"string\"},\"userName\":{\"type\":\"string\"},\"userdocumentNumber\":{\"type\":\"string\"}},\"title\":\"VirtualAnswerSupplyRequest\"},\"VirtualAnswerSupplyResponse\":{\"type\":\"object\",\"properties\":{\"Service\":{\"$ref\":\"#/definitions/VirtualAnswerSupply\"}},\"title\":\"VirtualAnswerSupplyResponse\"},\"VisualSoftListService\":{\"type\":\"object\",\"properties\":{\"activeService\":{\"type\":\"boolean\"},\"message\":{\"type\":\"string\"},\"quantityFree\":{\"type\":\"integer\",\"format\":\"int32\"},\"quantityPrice\":{\"type\":\"integer\",\"format\":\"int32\"},\"services\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/VisualSoftServiceType\"}}},\"title\":\"VisualSoftListService\"},\"VisualSoftListServiceResponse\":{\"type\":\"object\",\"properties\":{\"response\":{\"$ref\":\"#/definitions/VisualSoftListService\"}},\"title\":\"VisualSoftListServiceResponse\"},\"VisualSoftServiceType\":{\"type\":\"object\",\"properties\":{\"activationDate\":{\"type\":\"string\"},\"expirationDate\":{\"type\":\"string\"},\"pricePlanType\":{\"type\":\"string\"},\"quantityUnit\":{\"type\":\"integer\",\"format\":\"int32\"},\"quatityUnitAssigned\":{\"type\":\"integer\",\"format\":\"int32\"},\"reason\":{\"type\":\"string\"},\"serviceId\":{\"type\":\"string\"},\"status\":{\"type\":\"string\"}},\"title\":\"VisualSoftServiceType\"},\"WebViewApiPayload\":{\"type\":\"object\",\"properties\":{\"accountId\":{\"type\":\"string\"},\"amount\":{\"type\":\"string\"},\"application\":{\"type\":\"string\"},\"channelId\":{\"type\":\"string\"},\"correlationId\":{\"type\":\"string\"},\"customerId\":{\"type\":\"string\"},\"displayedText\":{\"type\":\"string\"},\"itemId\":{\"type\":\"string\"},\"itemName\":{\"type\":\"string\"},\"itemType\":{\"type\":\"string\"}},\"title\":\"WebViewApiPayload\"},\"WebViewApiRequest\":{\"type\":\"object\",\"properties\":{\"callback_url\":{\"type\":\"string\"},\"nonce\":{\"type\":\"string\"},\"payload\":{\"$ref\":\"#/definitions/WebViewApiPayload\"}},\"title\":\"WebViewApiRequest\"},\"WebViewApiResponse\":{\"type\":\"object\",\"properties\":{\"url\":{\"type\":\"string\"}},\"title\":\"WebViewApiResponse\"},\"FacturaTokeSendEnterprisePost200ApplicationJsonResponse\":{\"type\":\"object\"},\"FacturaTokeStatusGet200ApplicationJsonResponse\":{\"type\":\"object\"},\"Office365Quantity-licensesGet200ApplicationJsonResponse\":{\"type\":\"object\"},\"Office365Supply-servicePost200ApplicationJsonResponse\":{\"type\":\"object\"},\"VirtualAnswerQuantity-LandlinesGet200ApplicationJsonResponse\":{\"type\":\"object\"},\"VirtualAnswerSupply-servicePost200ApplicationJsonResponse\":{\"type\":\"object\"}}"
        }
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/getSupplyServiceUsingPOST_2')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'ca-digital-service-api')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'ca-digital-service-api', '5f56a45dd4ce8413580638ed')]"
      ],
      "properties": {
        "displayName": "Envía los datos del servicio contestador virtual al proveedor para su registro y provisión",
        "method": "POST",
        "urlTemplate": "/virtualAnswer/supply-service",
        "templateParameters": [],
        "description": "Envía los datos del servicio contestador virtual al proveedor para su registro y provisión",
        "request": {
          "description": "request",
          "queryParameters": [],
          "headers": [
            {
              "name": "UNICA-Application",
              "description": "UNICA-Application",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-ServiceId",
              "description": "UNICA-ServiceId",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-Timestamp",
              "description": "UNICA-Timestamp",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-User",
              "description": "UNICA-User",
              "type": "string",
              "values": []
            }
          ],
          "representations": [
            {
              "contentType": "application/json",
              "schemaId": "5f56a45dd4ce8413580638ed",
              "typeName": "VirtualAnswerSupplyRequest"
            }
          ]
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "Los datos del servicio han sido registrados correctamente por el proveedor",
            "representations": [
              {
                "contentType": "application/json",
                "schemaId": "5f56a45dd4ce8413580638ed",
                "typeName": "VirtualAnswerSupply-servicePost200ApplicationJsonResponse"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 201,
            "description": "Created",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 401,
            "description": "Unauthorized",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 403,
            "description": "Forbidden",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 404,
            "description": "No se encontraron datos",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 500,
            "description": "Se ha producido un error interno",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          }
        ]
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/getSupplyServiceUsingPOST_2/virtual-answer-controller')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'ca-digital-service-api', 'getSupplyServiceUsingPOST_2')]"
      ],
      "properties": {
        "displayName": "virtual-answer-controller"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/getSupplyServiceUsingPOST')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'ca-digital-service-api')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'ca-digital-service-api', '5f56a45dd4ce8413580638ed')]"
      ],
      "properties": {
        "displayName": "Envía los datos del servicio office 365 al proveedor para su registro y provisión",
        "method": "POST",
        "urlTemplate": "/office365/supply-service",
        "templateParameters": [],
        "description": "Envía los datos del servicio office 365 al proveedor para su registro y provisión",
        "request": {
          "description": "request",
          "queryParameters": [],
          "headers": [
            {
              "name": "UNICA-Application",
              "description": "UNICA-Application",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-ServiceId",
              "description": "UNICA-ServiceId",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-Timestamp",
              "description": "UNICA-Timestamp",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-User",
              "description": "UNICA-User",
              "type": "string",
              "values": []
            }
          ],
          "representations": [
            {
              "contentType": "application/json",
              "schemaId": "5f56a45dd4ce8413580638ed",
              "typeName": "Office365SupplyRequest"
            }
          ]
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "Los datos del servicio han sido registrados correctamente por el proveedor",
            "representations": [
              {
                "contentType": "application/json",
                "schemaId": "5f56a45dd4ce8413580638ed",
                "typeName": "Office365Supply-servicePost200ApplicationJsonResponse"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 201,
            "description": "Created",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 401,
            "description": "Unauthorized",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 403,
            "description": "Forbidden",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 404,
            "description": "No se encontraron datos",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 500,
            "description": "Se ha producido un error interno",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          }
        ]
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/getSupplyServiceUsingPOST/office-365-controller')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'ca-digital-service-api', 'getSupplyServiceUsingPOST')]"
      ],
      "properties": {
        "displayName": "office-365-controller"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/getSupplyServiceUsingPOST_1')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'ca-digital-service-api')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'ca-digital-service-api', '5f56a45dd4ce8413580638ed')]"
      ],
      "properties": {
        "displayName": "getSupplyService",
        "method": "POST",
        "urlTemplate": "/provider/cancel",
        "templateParameters": [],
        "description": "getSupplyService",
        "request": {
          "description": "request",
          "queryParameters": [],
          "headers": [
            {
              "name": "UNICA-Application",
              "description": "UNICA-Application",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-ServiceId",
              "description": "UNICA-ServiceId",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-Timestamp",
              "description": "UNICA-Timestamp",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-User",
              "description": "UNICA-User",
              "type": "string",
              "values": []
            }
          ],
          "representations": [
            {
              "contentType": "application/json",
              "schemaId": "5f56a45dd4ce8413580638ed",
              "typeName": "ProviderVisualSoftCancelRequest"
            }
          ]
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "OK",
            "representations": [
              {
                "contentType": "application/json",
                "schemaId": "5f56a45dd4ce8413580638ed",
                "typeName": "Mono«ProviderVisualSoftCancelResponse»"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 201,
            "description": "Created",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 401,
            "description": "Unauthorized",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 403,
            "description": "Forbidden",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 404,
            "description": "Not Found",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          }
        ]
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/getSupplyServiceUsingPOST_1/provider-controller')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'ca-digital-service-api', 'getSupplyServiceUsingPOST_1')]"
      ],
      "properties": {
        "displayName": "provider-controller"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/getServiceStatusUsingGET')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'ca-digital-service-api')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'ca-digital-service-api', '5f56a45dd4ce8413580638ed')]"
      ],
      "properties": {
        "displayName": "Obtiene el estado del servicio Factura al Toke de la empresa ingresando Origen, Tipo Solicitante y Ruc de la empresa",
        "method": "GET",
        "urlTemplate": "/facturaToke/status?applicantType={applicantType}&ruc={ruc}&source={source}",
        "templateParameters": [
          {
            "name": "applicantType",
            "description": "Format - int32. applicantType",
            "type": "integer",
            "required": true,
            "values": []
          },
          {
            "name": "ruc",
            "description": "ruc",
            "type": "string",
            "required": true,
            "values": []
          },
          {
            "name": "source",
            "description": "Format - int32. source",
            "type": "integer",
            "required": true,
            "values": []
          }
        ],
        "description": "Obtiene el estado del servicio Factura al Toke de la empresa ingresando Origen, Tipo Solicitante y Ruc de la empresa",
        "request": {
          "queryParameters": [],
          "headers": [
            {
              "name": "UNICA-Application",
              "description": "UNICA-Application",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-ServiceId",
              "description": "UNICA-ServiceId",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-Timestamp",
              "description": "UNICA-Timestamp",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-User",
              "description": "UNICA-User",
              "type": "string",
              "values": []
            }
          ],
          "representations": []
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "Obtiene el estado del servicio Factura al Toke de la empresa ingresando Origen, Tipo Solicitante y Ruc de la empresa",
            "representations": [
              {
                "contentType": "application/json",
                "schemaId": "5f56a45dd4ce8413580638ed",
                "typeName": "FacturaTokeStatusGet200ApplicationJsonResponse"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 401,
            "description": "Unauthorized",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 403,
            "description": "Forbidden",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 404,
            "description": "No se encontraron datos",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 500,
            "description": "Se ha producido un error interno",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          }
        ]
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/getServiceStatusUsingGET/factura-toke-controller')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'ca-digital-service-api', 'getServiceStatusUsingGET')]"
      ],
      "properties": {
        "displayName": "factura-toke-controller"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/getQuantityLicensesUsingGET')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'ca-digital-service-api')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'ca-digital-service-api', '5f56a45dd4ce8413580638ed')]"
      ],
      "properties": {
        "displayName": "Obtiene la cantidad de licencias adquiridas del servicio Office 365",
        "method": "GET",
        "urlTemplate": "/office365/quantity-licenses?ruc={ruc}&userDocumentNumber={userDocumentNumber}&userDocumentType={userDocumentType}",
        "templateParameters": [
          {
            "name": "ruc",
            "description": "ruc",
            "type": "string",
            "required": true,
            "values": []
          },
          {
            "name": "userDocumentNumber",
            "description": "userDocumentNumber",
            "type": "string",
            "required": true,
            "values": []
          },
          {
            "name": "userDocumentType",
            "description": "userDocumentType",
            "type": "string",
            "required": true,
            "values": []
          }
        ],
        "description": "Obtiene la cantidad de licencias adquiridas del servicio Office 365",
        "request": {
          "queryParameters": [],
          "headers": [
            {
              "name": "UNICA-Application",
              "description": "UNICA-Application",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-ServiceId",
              "description": "UNICA-ServiceId",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-Timestamp",
              "description": "UNICA-Timestamp",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-User",
              "description": "UNICA-User",
              "type": "string",
              "values": []
            }
          ],
          "representations": []
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "Obtiene la cantidad de licencias adquiridas del servicio Office 365",
            "representations": [
              {
                "contentType": "application/json",
                "schemaId": "5f56a45dd4ce8413580638ed",
                "typeName": "Office365Quantity-licensesGet200ApplicationJsonResponse"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 401,
            "description": "Unauthorized",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 403,
            "description": "Forbidden",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 404,
            "description": "No se encontraron datos",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 500,
            "description": "Se ha producido un error interno",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          }
        ]
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/getQuantityLicensesUsingGET/office-365-controller')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'ca-digital-service-api', 'getQuantityLicensesUsingGET')]"
      ],
      "properties": {
        "displayName": "office-365-controller"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/getQuantityLandlinesUsingGET')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'ca-digital-service-api')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'ca-digital-service-api', '5f56a45dd4ce8413580638ed')]"
      ],
      "properties": {
        "displayName": "Obtiene la cantidad de lineas adquiridas del servicio Contestador Virtual",
        "method": "GET",
        "urlTemplate": "/virtualAnswer/quantity-Landlines?productType={productType}&ruc={ruc}&userDocumentNumber={userDocumentNumber}&userDocumentType={userDocumentType}",
        "templateParameters": [
          {
            "name": "productType",
            "description": "productType",
            "type": "string",
            "required": true,
            "values": []
          },
          {
            "name": "ruc",
            "description": "ruc",
            "type": "string",
            "required": true,
            "values": []
          },
          {
            "name": "userDocumentNumber",
            "description": "userDocumentNumber",
            "type": "string",
            "required": true,
            "values": []
          },
          {
            "name": "userDocumentType",
            "description": "userDocumentType",
            "type": "string",
            "required": true,
            "values": []
          }
        ],
        "description": "Obtiene la cantidad de lineas adquiridas del servicio Contestador Virtual",
        "request": {
          "queryParameters": [],
          "headers": [
            {
              "name": "UNICA-Application",
              "description": "UNICA-Application",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-ServiceId",
              "description": "UNICA-ServiceId",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-Timestamp",
              "description": "UNICA-Timestamp",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-User",
              "description": "UNICA-User",
              "type": "string",
              "values": []
            }
          ],
          "representations": []
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "Obtiene la cantidad de lineas adquiridas del servicio Contestador Virtual",
            "representations": [
              {
                "contentType": "application/json",
                "schemaId": "5f56a45dd4ce8413580638ed",
                "typeName": "VirtualAnswerQuantity-LandlinesGet200ApplicationJsonResponse"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 401,
            "description": "Unauthorized",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 403,
            "description": "Forbidden",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 404,
            "description": "No se encontraron datos",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 500,
            "description": "Se ha producido un error interno",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          }
        ]
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/getQuantityLandlinesUsingGET/virtual-answer-controller')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'ca-digital-service-api', 'getQuantityLandlinesUsingGET')]"
      ],
      "properties": {
        "displayName": "virtual-answer-controller"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/getAccessTokenForRefreshTokenUsingGET')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'ca-digital-service-api')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'ca-digital-service-api', '5f56a45dd4ce8413580638ed')]"
      ],
      "properties": {
        "displayName": "Obtiene token ",
        "method": "GET",
        "urlTemplate": "/oauth2/token",
        "templateParameters": [],
        "description": "obtiene el token",
        "request": {
          "queryParameters": [],
          "headers": [],
          "representations": []
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "OK",
            "representations": [
              {
                "contentType": "application/json",
                "schemaId": "5f56a45dd4ce8413580638ed",
                "typeName": "TokenResponse"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 401,
            "description": "Unauthorized",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 403,
            "description": "Forbidden",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 404,
            "description": "Not Found",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          }
        ]
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/getAccessTokenForRefreshTokenUsingGET/authentication-controller')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'ca-digital-service-api', 'getAccessTokenForRefreshTokenUsingGET')]"
      ],
      "properties": {
        "displayName": "authentication-controller"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/providerLoginUsingGET')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'ca-digital-service-api')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'ca-digital-service-api', '5f56a45dd4ce8413580638ed')]"
      ],
      "properties": {
        "displayName": "providerLogin",
        "method": "GET",
        "urlTemplate": "/provider/login?productType={productType}&ruc={ruc}&userDocumentNumber={userDocumentNumber}&userDocumentType={userDocumentType}",
        "templateParameters": [
          {
            "name": "productType",
            "description": "productType",
            "type": "string",
            "required": true,
            "values": []
          },
          {
            "name": "ruc",
            "description": "ruc",
            "type": "string",
            "required": true,
            "values": []
          },
          {
            "name": "userDocumentNumber",
            "description": "userDocumentNumber",
            "type": "string",
            "required": true,
            "values": []
          },
          {
            "name": "userDocumentType",
            "description": "userDocumentType",
            "type": "string",
            "required": true,
            "values": []
          }
        ],
        "description": "providerLogin",
        "request": {
          "queryParameters": [],
          "headers": [
            {
              "name": "UNICA-Application",
              "description": "UNICA-Application",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-ServiceId",
              "description": "UNICA-ServiceId",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-Timestamp",
              "description": "UNICA-Timestamp",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-User",
              "description": "UNICA-User",
              "type": "string",
              "values": []
            }
          ],
          "representations": []
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "OK",
            "representations": [
              {
                "contentType": "*/*",
                "schemaId": "5f56a45dd4ce8413580638ed",
                "typeName": "Mono«LoginResponse»"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 401,
            "description": "Unauthorized",
            "representations": [
              {
                "contentType": "*/*"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 403,
            "description": "Forbidden",
            "representations": [
              {
                "contentType": "*/*"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 404,
            "description": "Not Found",
            "representations": [
              {
                "contentType": "*/*"
              }
            ],
            "headers": []
          }
        ]
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/providerLoginUsingGET/provider-controller')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'ca-digital-service-api', 'providerLoginUsingGET')]"
      ],
      "properties": {
        "displayName": "provider-controller"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/providerQuantityUsingGET')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'ca-digital-service-api')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'ca-digital-service-api', '5f56a45dd4ce8413580638ed')]"
      ],
      "properties": {
        "displayName": "providerQuantity",
        "method": "GET",
        "urlTemplate": "/provider/quantity?companyDocumentNumber={companyDocumentNumber}&companyDocumentType={companyDocumentType}&productType={productType}&userDocumentType={userDocumentType}&userdocumentNumber={userdocumentNumber}",
        "templateParameters": [
          {
            "name": "companyDocumentNumber",
            "description": "companyDocumentNumber",
            "type": "string",
            "required": true,
            "values": []
          },
          {
            "name": "companyDocumentType",
            "description": "Format - int32. companyDocumentType",
            "type": "integer",
            "required": true,
            "values": []
          },
          {
            "name": "productType",
            "description": "Format - int32. productType",
            "type": "integer",
            "required": true,
            "values": []
          },
          {
            "name": "userDocumentType",
            "description": "Format - int32. userDocumentType",
            "type": "integer",
            "required": true,
            "values": []
          },
          {
            "name": "userdocumentNumber",
            "description": "userdocumentNumber",
            "type": "string",
            "required": true,
            "values": []
          }
        ],
        "description": "providerQuantity",
        "request": {
          "queryParameters": [
            {
              "name": "idService",
              "description": "idService",
              "type": "string",
              "values": []
            }
          ],
          "headers": [
            {
              "name": "UNICA-Application",
              "description": "UNICA-Application",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-ServiceId",
              "description": "UNICA-ServiceId",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-Timestamp",
              "description": "UNICA-Timestamp",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-User",
              "description": "UNICA-User",
              "type": "string",
              "values": []
            }
          ],
          "representations": []
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "OK",
            "representations": [
              {
                "contentType": "*/*",
                "schemaId": "5f56a45dd4ce8413580638ed",
                "typeName": "Mono«VisualSoftListServiceResponse»"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 401,
            "description": "Unauthorized",
            "representations": [
              {
                "contentType": "*/*"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 403,
            "description": "Forbidden",
            "representations": [
              {
                "contentType": "*/*"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 404,
            "description": "Not Found",
            "representations": [
              {
                "contentType": "*/*"
              }
            ],
            "headers": []
          }
        ]
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/providerQuantityUsingGET/provider-controller')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'ca-digital-service-api', 'providerQuantityUsingGET')]"
      ],
      "properties": {
        "displayName": "provider-controller"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/providerServicesListUsingGET')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'ca-digital-service-api')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'ca-digital-service-api', '5f56a45dd4ce8413580638ed')]"
      ],
      "properties": {
        "displayName": "providerServicesList",
        "method": "GET",
        "urlTemplate": "/provider/services-list?productType={productType}&ruc={ruc}&userDocumentNumber={userDocumentNumber}&userDocumentType={userDocumentType}",
        "templateParameters": [
          {
            "name": "productType",
            "description": "productType",
            "type": "string",
            "required": true,
            "values": []
          },
          {
            "name": "ruc",
            "description": "ruc",
            "type": "string",
            "required": true,
            "values": []
          },
          {
            "name": "userDocumentNumber",
            "description": "userDocumentNumber",
            "type": "string",
            "required": true,
            "values": []
          },
          {
            "name": "userDocumentType",
            "description": "userDocumentType",
            "type": "string",
            "required": true,
            "values": []
          }
        ],
        "description": "providerServicesList",
        "request": {
          "queryParameters": [],
          "headers": [],
          "representations": []
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "OK",
            "representations": [
              {
                "contentType": "*/*",
                "schemaId": "5f56a45dd4ce8413580638ed",
                "typeName": "Flux«ServicesListResponse»"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 401,
            "description": "Unauthorized",
            "representations": [
              {
                "contentType": "*/*"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 403,
            "description": "Forbidden",
            "representations": [
              {
                "contentType": "*/*"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 404,
            "description": "Not Found",
            "representations": [
              {
                "contentType": "*/*"
              }
            ],
            "headers": []
          }
        ]
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/providerServicesListUsingGET/provider-controller')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'ca-digital-service-api', 'providerServicesListUsingGET')]"
      ],
      "properties": {
        "displayName": "provider-controller"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/getPaymentUsingPOST')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'ca-digital-service-api')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'ca-digital-service-api', '5f56a45dd4ce8413580638ed')]"
      ],
      "properties": {
        "displayName": "Recibe los datos del cliente y la compra, para procesar el pago",
        "method": "POST",
        "urlTemplate": "/webViewApi/payment/{userId}",
        "templateParameters": [
          {
            "name": "userId",
            "description": "userId",
            "type": "string",
            "required": true,
            "values": []
          }
        ],
        "description": "Recibe los datos del cliente y la compra, para procesar el pago",
        "request": {
          "description": "request",
          "queryParameters": [],
          "headers": [],
          "representations": [
            {
              "contentType": "application/json",
              "schemaId": "5f56a45dd4ce8413580638ed",
              "typeName": "WebViewApiRequest"
            }
          ]
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "El pago ha sido procesado con exito",
            "representations": [
              {
                "contentType": "application/json",
                "schemaId": "5f56a45dd4ce8413580638ed",
                "typeName": "WebViewApiResponse"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 201,
            "description": "Created",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 401,
            "description": "Unauthorized",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 403,
            "description": "Forbidden",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 404,
            "description": "Not Found",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 500,
            "description": "Se ha producido un error interno",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          }
        ]
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/getPaymentUsingPOST/web-view-api-controller')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'ca-digital-service-api', 'getPaymentUsingPOST')]"
      ],
      "properties": {
        "displayName": "web-view-api-controller"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/getSendEnterpriseUsingPOST')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'ca-digital-service-api')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'ca-digital-service-api', '5f56a45dd4ce8413580638ed')]"
      ],
      "properties": {
        "displayName": "Registro del servicio de facturacion a una empresa",
        "method": "POST",
        "urlTemplate": "/facturaToke/sendEnterprise",
        "templateParameters": [],
        "description": "Registro del servicio de facturacion a una empresa",
        "request": {
          "description": "request",
          "queryParameters": [],
          "headers": [
            {
              "name": "UNICA-Application",
              "description": "UNICA-Application",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-ServiceId",
              "description": "UNICA-ServiceId",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-Timestamp",
              "description": "UNICA-Timestamp",
              "type": "string",
              "values": []
            },
            {
              "name": "UNICA-User",
              "description": "UNICA-User",
              "type": "string",
              "values": []
            }
          ],
          "representations": [
            {
              "contentType": "application/json",
              "schemaId": "5f56a45dd4ce8413580638ed",
              "typeName": "FacturaTokeSendRequest"
            }
          ]
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "Registro del servicio de facturacion a una empresa",
            "representations": [
              {
                "contentType": "application/json",
                "schemaId": "5f56a45dd4ce8413580638ed",
                "typeName": "FacturaTokeSendEnterprisePost200ApplicationJsonResponse"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 201,
            "description": "Created",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 401,
            "description": "Unauthorized",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 403,
            "description": "Forbidden",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 404,
            "description": "No se encontraron datos",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          },
          {
            "statusCode": 500,
            "description": "Se ha producido un error interno",
            "representations": [
              {
                "contentType": "application/json"
              }
            ],
            "headers": []
          }
        ]
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/getSendEnterpriseUsingPOST/factura-toke-controller')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'ca-digital-service-api', 'getSendEnterpriseUsingPOST')]"
      ],
      "properties": {
        "displayName": "factura-toke-controller"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/ca-digital-service-api/policy')]",
      "type": "Microsoft.ApiManagement/service/apis/policies",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'ca-digital-service-api')]"
      ],
      "properties": {
        "format": "rawxml-link",
        "value": "[concat(parameters('PolicyXMLBaseUrl'), '/ca-digital-service-api-apiPolicy.xml')]"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/', parameters('ProductsApiName').wappedev, '/', 'ca-digital-service-api')]",
      "type": "Microsoft.ApiManagement/service/products/apis",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'ca-digital-service-api')]"
      ],
      "properties": {}
    }
  ],
  "outputs": {}
}