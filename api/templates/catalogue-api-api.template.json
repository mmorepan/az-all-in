{
  "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "ApimServiceName": {
      "type": "string"
    },
    "PolicyXMLBaseUrl": {
      "type": "string"
    },
    "BackendServiceUrl": {
      "type": "string"
    },
    "OauthServerId": {
      "type": "string"
    },
    "ProductsApiName": {
      "type": "object"
    }
  },
  "variables": {},
  "resources": [
    {
      "name": "[concat(parameters('ApimServiceName'), '/catalogue-api')]",
      "type": "Microsoft.ApiManagement/service/apis",
      "apiVersion": "2019-01-01",
      "dependsOn": [],
      "properties": {
        "displayName": "Catalogue Api",
        "apiRevision": "1",
        "description": "Api Documentation,",
        "subscriptionRequired": false,
        "serviceUrl": "[parameters('BackendServiceUrl')]",
        "path": "catalogue",
        "protocols": [
          "https"
        ],
        "authenticationSettings": {
          "oAuth2": {
            "authorizationServerId": "[parameters('OauthServerId')]"
          }
        },
        "subscriptionKeyParameterNames": {
          "header": "Ocp-Apim-Subscription-Key",
          "query": "subscription-key"
        },
        "isCurrent": true
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/catalogue-api/5f3c59b3d4ce8413bc65b6bf')]",
      "type": "Microsoft.ApiManagement/service/apis/schemas",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'catalogue-api')]"
      ],
      "properties": {
        "contentType": "application/vnd.oai.openapi.components+json",
        "document": {
          "components": {
            "schemas": {
              "BenefitsRequest": {
                "title": "BenefitsRequest",
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string"
                  },
                  "value": {
                    "type": "string"
                  }
                }
              },
              "BenefitsResponse": {
                "title": "BenefitsResponse",
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string"
                  },
                  "value": {
                    "type": "string"
                  }
                }
              },
              "CatalogueCreateRequest": {
                "title": "CatalogueCreateRequest",
                "type": "object",
                "properties": {
                  "additionalData": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/KeyValueRequest"
                    }
                  },
                  "attachment": {
                    "$ref": "#/components/schemas/InfoAttachmentRequest"
                  },
                  "benefits": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/BenefitsRequest"
                    }
                  },
                  "brand": {
                    "type": "string"
                  },
                  "bundledProductSpecification": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ComposingProductRequest"
                    }
                  },
                  "category": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/CategoryTreeRequest"
                    }
                  },
                  "correlationId": {
                    "type": "string"
                  },
                  "createDate": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "isBundle": {
                    "type": "boolean"
                  },
                  "lifeCycleStatus": {
                    "type": "string"
                  },
                  "modifyDate": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "number": {
                    "type": "string"
                  },
                  "plans": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/PlanRequest"
                    }
                  },
                  "productSpecCharacteristic": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/CharacteristicRequest"
                    }
                  },
                  "totalPlans": {
                    "type": "integer",
                    "format": "int32"
                  },
                  "unitOfMeasure": {
                    "$ref": "#/components/schemas/QuantityRequest"
                  },
                  "validFor": {
                    "$ref": "#/components/schemas/TimePeriodRequest"
                  }
                }
              },
              "CatalogueCreateResponse": {
                "title": "CatalogueCreateResponse",
                "type": "object",
                "properties": {
                  "additionalData": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/KeyValueResponse"
                    }
                  },
                  "attachment": {
                    "$ref": "#/components/schemas/InfoAttachmentResponse"
                  },
                  "benefits": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/BenefitsResponse"
                    }
                  },
                  "brand": {
                    "type": "string"
                  },
                  "bundledProductSpecification": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ComposingProductResponse"
                    }
                  },
                  "category": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/CategoryTreeResponse"
                    }
                  },
                  "correlationId": {
                    "type": "string"
                  },
                  "createDate": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "href": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "isBundle": {
                    "type": "boolean"
                  },
                  "lifeCycleStatus": {
                    "type": "string"
                  },
                  "modifyDate": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "number": {
                    "type": "string"
                  },
                  "offerings": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/EntityRefResponse"
                    }
                  },
                  "plans": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/PlanResponse"
                    }
                  },
                  "productSpecCharacteristic": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/CharacteristicResponse"
                    }
                  },
                  "productSpecificationRelationship": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ProductSpecRelationshipResponse"
                    }
                  },
                  "totalPlans": {
                    "type": "integer",
                    "format": "int32"
                  },
                  "unitOfMeasure": {
                    "$ref": "#/components/schemas/QuantityResponse"
                  },
                  "validFor": {
                    "$ref": "#/components/schemas/TimePeriodResponse"
                  }
                }
              },
              "CatalogueListResponse": {
                "title": "CatalogueListResponse",
                "type": "object",
                "properties": {
                  "additionalData": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/KeyValueResponse"
                    }
                  },
                  "attachment": {
                    "$ref": "#/components/schemas/InfoAttachmentResponse"
                  },
                  "benefits": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/BenefitsResponse"
                    }
                  },
                  "brand": {
                    "type": "string"
                  },
                  "bundledProductSpecification": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ComposingProductResponse"
                    }
                  },
                  "category": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/CategoryTreeResponse"
                    }
                  },
                  "correlationId": {
                    "type": "string"
                  },
                  "createDate": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "href": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "isBundle": {
                    "type": "boolean"
                  },
                  "lifeCycleStatus": {
                    "type": "string"
                  },
                  "modifyDate": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "number": {
                    "type": "string"
                  },
                  "offerings": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/EntityRefResponse"
                    }
                  },
                  "plans": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/PlanResponse"
                    }
                  },
                  "productSpecCharacteristic": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/CharacteristicResponse"
                    }
                  },
                  "productSpecificationRelationship": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ProductSpecRelationshipResponse"
                    }
                  },
                  "totalPlans": {
                    "type": "integer",
                    "format": "int32"
                  },
                  "unitOfMeasure": {
                    "$ref": "#/components/schemas/QuantityResponse"
                  },
                  "validFor": {
                    "$ref": "#/components/schemas/TimePeriodResponse"
                  }
                }
              },
              "CatalogueUpdateResponse": {
                "title": "CatalogueUpdateResponse",
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  }
                }
              },
              "CategoryTreeRequest": {
                "title": "CategoryTreeRequest",
                "type": "object",
                "properties": {
                  "href": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "subcategories": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/CategoryTreeRequest"
                    }
                  }
                }
              },
              "CategoryTreeResponse": {
                "title": "CategoryTreeResponse",
                "type": "object",
                "properties": {
                  "href": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "subcategories": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/CategoryTreeResponse"
                    }
                  }
                }
              },
              "CharacteristicRequest": {
                "title": "CharacteristicRequest",
                "type": "object",
                "properties": {
                  "description": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "validFor": {
                    "$ref": "#/components/schemas/TimePeriodResponse"
                  },
                  "valueType": {
                    "type": "string"
                  }
                }
              },
              "CharacteristicResponse": {
                "title": "CharacteristicResponse",
                "type": "object",
                "properties": {
                  "description": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "validFor": {
                    "$ref": "#/components/schemas/TimePeriodResponse"
                  },
                  "valueType": {
                    "type": "string"
                  }
                }
              },
              "ChargeRequest": {
                "title": "ChargeRequest",
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  }
                }
              },
              "ChargeResponse": {
                "title": "ChargeResponse",
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  }
                }
              },
              "ComponentProdOfferPriceRequest": {
                "title": "ComponentProdOfferPriceRequest",
                "required": [
                  "price"
                ],
                "type": "object",
                "properties": {
                  "additionalData": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/KeyValueRequest"
                    }
                  },
                  "charge": {
                    "$ref": "#/components/schemas/ChargeRequest"
                  },
                  "description": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "isMandatory": {
                    "type": "boolean"
                  },
                  "maxPrice": {
                    "$ref": "#/components/schemas/MoneyRequest"
                  },
                  "minPrice": {
                    "$ref": "#/components/schemas/MoneyRequest"
                  },
                  "name": {
                    "type": "string"
                  },
                  "price": {
                    "$ref": "#/components/schemas/MoneyRequest"
                  },
                  "priceConsumer": {
                    "$ref": "#/components/schemas/EntityRefRequest"
                  },
                  "priceLocation": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "priceType": {
                    "type": "string"
                  },
                  "pricedComponents": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/KeyValueRequest"
                    }
                  },
                  "productOfferPriceAlteration": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/OfferPriceAlterationRequest"
                    }
                  },
                  "recurringChargePeriod": {
                    "type": "string"
                  },
                  "taxIncluded": {
                    "type": "boolean"
                  },
                  "taxRate": {
                    "type": "number",
                    "format": "double"
                  },
                  "taxType": {
                    "type": "string"
                  },
                  "unitOfMeasure": {
                    "$ref": "#/components/schemas/QuantityRequest"
                  },
                  "validFor": {
                    "$ref": "#/components/schemas/TimePeriodRequest"
                  }
                }
              },
              "ComponentProdOfferPriceResponse": {
                "title": "ComponentProdOfferPriceResponse",
                "type": "object",
                "properties": {
                  "additionalData": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/KeyValueResponse"
                    }
                  },
                  "charge": {
                    "$ref": "#/components/schemas/ChargeResponse"
                  },
                  "description": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "isMandatory": {
                    "type": "boolean"
                  },
                  "maxPrice": {
                    "$ref": "#/components/schemas/MoneyResponse"
                  },
                  "minPrice": {
                    "$ref": "#/components/schemas/MoneyResponse"
                  },
                  "name": {
                    "type": "string"
                  },
                  "price": {
                    "$ref": "#/components/schemas/MoneyResponse"
                  },
                  "priceConsumer": {
                    "$ref": "#/components/schemas/EntityRefResponse"
                  },
                  "priceLocation": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "priceType": {
                    "type": "string"
                  },
                  "pricedComponents": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/KeyValueResponse"
                    }
                  },
                  "productOfferPriceAlteration": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/OfferPriceAlterationResponse"
                    }
                  },
                  "recurringChargePeriod": {
                    "type": "string"
                  },
                  "taxIncluded": {
                    "type": "boolean"
                  },
                  "taxRate": {
                    "type": "number",
                    "format": "double"
                  },
                  "taxType": {
                    "type": "string"
                  },
                  "unitOfMeasure": {
                    "$ref": "#/components/schemas/QuantityResponse"
                  },
                  "validFor": {
                    "$ref": "#/components/schemas/TimePeriodResponse"
                  }
                }
              },
              "ComposingProductRequest": {
                "title": "ComposingProductRequest",
                "type": "object",
                "properties": {
                  "defaultCardinality": {
                    "type": "integer",
                    "format": "int32"
                  },
                  "href": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "maxCardinality": {
                    "type": "integer",
                    "format": "int32"
                  },
                  "minCardinality": {
                    "type": "integer",
                    "format": "int32"
                  },
                  "name": {
                    "type": "string"
                  },
                  "periodDuration": {
                    "type": "string"
                  },
                  "productPrice": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ComponentProdOfferPriceRequest"
                    }
                  },
                  "productType": {
                    "type": "string"
                  },
                  "refinedProduct": {
                    "$ref": "#/components/schemas/RefinedProductRequest"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              },
              "ComposingProductResponse": {
                "title": "ComposingProductResponse",
                "type": "object",
                "properties": {
                  "defaultCardinality": {
                    "type": "integer",
                    "format": "int32"
                  },
                  "href": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "maxCardinality": {
                    "type": "integer",
                    "format": "int32"
                  },
                  "minCardinality": {
                    "type": "integer",
                    "format": "int32"
                  },
                  "name": {
                    "type": "string"
                  },
                  "periodDuration": {
                    "type": "string"
                  },
                  "productPrice": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ComponentProdOfferPriceResponse"
                    }
                  },
                  "productType": {
                    "type": "string"
                  },
                  "refinedProduct": {
                    "$ref": "#/components/schemas/RefinedProductResponse"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              },
              "EntityRefRequest": {
                "title": "EntityRefRequest",
                "type": "object",
                "properties": {
                  "description": {
                    "type": "string"
                  },
                  "entityType": {
                    "type": "string"
                  },
                  "href": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "role": {
                    "type": "string"
                  },
                  "validFor": {
                    "$ref": "#/components/schemas/TimePeriodRequest"
                  }
                }
              },
              "EntityRefResponse": {
                "title": "EntityRefResponse",
                "type": "object",
                "properties": {
                  "description": {
                    "type": "string"
                  },
                  "entityType": {
                    "type": "string"
                  },
                  "href": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "role": {
                    "type": "string"
                  },
                  "validFor": {
                    "$ref": "#/components/schemas/TimePeriodResponse"
                  }
                }
              },
              "GenesisException": {
                "title": "GenesisException",
                "type": "object",
                "properties": {
                  "exceptionDetails": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/GenesisExceptionDetail"
                    },
                    "description": "Lista de detalles del error"
                  },
                  "exceptionId": {
                    "type": "string",
                    "description": "Identificador de la excepci칩n",
                    "example": "SVC0001"
                  },
                  "exceptionText": {
                    "type": "string",
                    "description": "Descripcion del error de Sistema",
                    "example": "Mensaje de error"
                  },
                  "moreInfo": {
                    "type": "string",
                    "description": "URI donde se proporciona m치s informaci칩n sobre la excepci칩n",
                    "example": "https://help.tdp.com/2020"
                  },
                  "properties": {
                    "type": "object",
                    "additionalProperties": {
                      "$ref": "#/components/schemas/Serializable"
                    },
                    "description": "Lista de propiedades especiales."
                  },
                  "userMessage": {
                    "type": "string",
                    "description": "Descripcion del error de Sistema",
                    "example": "Error al llamar al servicio"
                  }
                },
                "description": "Datos del error de sistema."
              },
              "GenesisExceptionDetail": {
                "title": "GenesisExceptionDetail",
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string",
                    "description": "Codigo de error del Detalle/Proveedor",
                    "example": "MB0008"
                  },
                  "component": {
                    "type": "string",
                    "description": "Nombre del componente de falla",
                    "example": "MB.ProductsV2"
                  },
                  "description": {
                    "type": "string",
                    "description": "Descripcion del Detalle",
                    "example": "Codigo invalido para el canal"
                  }
                },
                "description": "Datos del error t&eacute;cnico."
              },
              "InfoAttachmentRequest": {
                "title": "InfoAttachmentRequest",
                "type": "object",
                "properties": {
                  "href": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string"
                  },
                  "url": {
                    "type": "string"
                  }
                }
              },
              "InfoAttachmentResponse": {
                "title": "InfoAttachmentResponse",
                "type": "object",
                "properties": {
                  "href": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string"
                  },
                  "url": {
                    "type": "string"
                  }
                }
              },
              "KeyValueRequest": {
                "title": "KeyValueRequest",
                "type": "object",
                "properties": {
                  "key": {
                    "type": "string"
                  },
                  "value": {
                    "type": "string"
                  }
                }
              },
              "KeyValueResponse": {
                "title": "KeyValueResponse",
                "type": "object",
                "properties": {
                  "key": {
                    "type": "string"
                  },
                  "value": {
                    "type": "string"
                  }
                }
              },
              "MoneyRequest": {
                "title": "MoneyRequest",
                "required": [
                  "amount"
                ],
                "type": "object",
                "properties": {
                  "amount": {
                    "type": "number",
                    "format": "double"
                  },
                  "units": {
                    "type": "string"
                  }
                }
              },
              "MoneyResponse": {
                "title": "MoneyResponse",
                "type": "object",
                "properties": {
                  "amount": {
                    "type": "number",
                    "format": "double"
                  },
                  "units": {
                    "type": "string"
                  }
                }
              },
              "OfferPriceAlterationRequest": {
                "title": "OfferPriceAlterationRequest",
                "type": "object",
                "properties": {
                  "additionalData": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/MoneyRequest"
                    }
                  },
                  "applicationDuration": {
                    "type": "integer",
                    "format": "int32"
                  },
                  "description": {
                    "type": "string"
                  },
                  "discountType": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "price": {
                    "$ref": "#/components/schemas/MoneyRequest"
                  },
                  "priceCondition": {
                    "type": "string"
                  },
                  "priceType": {
                    "type": "string"
                  },
                  "recurringChargePeriod": {
                    "type": "string"
                  },
                  "unitOfMeasure": {
                    "$ref": "#/components/schemas/QuantityRequest"
                  }
                }
              },
              "OfferPriceAlterationResponse": {
                "title": "OfferPriceAlterationResponse",
                "type": "object",
                "properties": {
                  "additionalData": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/MoneyResponse"
                    }
                  },
                  "applicationDuration": {
                    "type": "integer",
                    "format": "int32"
                  },
                  "description": {
                    "type": "string"
                  },
                  "discountType": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "price": {
                    "$ref": "#/components/schemas/MoneyResponse"
                  },
                  "priceCondition": {
                    "type": "string"
                  },
                  "priceType": {
                    "type": "string"
                  },
                  "recurringChargePeriod": {
                    "type": "string"
                  },
                  "unitOfMeasure": {
                    "$ref": "#/components/schemas/QuantityResponse"
                  }
                }
              },
              "PlanRequest": {
                "title": "PlanRequest",
                "type": "object",
                "properties": {
                  "additionalData": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/KeyValueRequest"
                    }
                  },
                  "catalogId": {
                    "type": "string"
                  },
                  "createDate": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "href": {
                    "type": "string"
                  },
                  "lifeCycleStatus": {
                    "type": "string"
                  },
                  "modifyDate": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "offerings": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/EntityRefRequest"
                    }
                  },
                  "periodDuration": {
                    "type": "string"
                  },
                  "productId": {
                    "type": "string"
                  },
                  "productPrice": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ComponentProdOfferPriceRequest"
                    }
                  },
                  "productSpecCharacteristic": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/CharacteristicRequest"
                    }
                  },
                  "startDate": {
                    "type": "string"
                  }
                }
              },
              "PlanResponse": {
                "title": "PlanResponse",
                "type": "object",
                "properties": {
                  "additionalData": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/KeyValueResponse"
                    }
                  },
                  "catalogId": {
                    "type": "string"
                  },
                  "createDate": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "href": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "lifeCycleStatus": {
                    "type": "string"
                  },
                  "modifyDate": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "offerings": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/EntityRefResponse"
                    }
                  },
                  "periodDuration": {
                    "type": "string"
                  },
                  "productId": {
                    "type": "string"
                  },
                  "productPrice": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ComponentProdOfferPriceResponse"
                    }
                  },
                  "productSpecCharacteristic": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/CharacteristicResponse"
                    }
                  },
                  "startDate": {
                    "type": "string"
                  }
                }
              },
              "ProductSpecRelationshipResponse": {
                "title": "ProductSpecRelationshipResponse",
                "type": "object",
                "properties": {
                  "href": {
                    "type": "string"
                  },
                  "id": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string"
                  },
                  "validFor": {
                    "$ref": "#/components/schemas/TimePeriodResponse"
                  }
                }
              },
              "QuantityRequest": {
                "title": "QuantityRequest",
                "type": "object",
                "properties": {
                  "amount": {
                    "type": "number",
                    "format": "double"
                  },
                  "maximum": {
                    "type": "number",
                    "format": "double"
                  },
                  "minimum": {
                    "type": "number",
                    "format": "double"
                  },
                  "units": {
                    "type": "string"
                  }
                }
              },
              "QuantityResponse": {
                "title": "QuantityResponse",
                "type": "object",
                "properties": {
                  "amount": {
                    "type": "number",
                    "format": "double"
                  },
                  "maximum": {
                    "type": "number",
                    "format": "double"
                  },
                  "minimum": {
                    "type": "number",
                    "format": "double"
                  },
                  "units": {
                    "type": "string"
                  }
                }
              },
              "RefinedProductRequest": {
                "title": "RefinedProductRequest",
                "type": "object",
                "properties": {
                  "productCharacteristics": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/CharacteristicRequest"
                    }
                  },
                  "subProducts": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ComposingProductRequest"
                    }
                  }
                }
              },
              "RefinedProductResponse": {
                "title": "RefinedProductResponse",
                "type": "object",
                "properties": {
                  "productCharacteristics": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/CharacteristicResponse"
                    }
                  },
                  "subProducts": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/ComposingProductResponse"
                    }
                  }
                }
              },
              "Serializable": {
                "title": "Serializable",
                "type": "object"
              },
              "TimePeriodRequest": {
                "title": "TimePeriodRequest",
                "type": "object",
                "properties": {
                  "endDateTime": {
                    "type": "string"
                  },
                  "startDateTime": {
                    "type": "string"
                  }
                }
              },
              "TimePeriodResponse": {
                "title": "TimePeriodResponse",
                "type": "object",
                "properties": {
                  "endDateTime": {
                    "type": "string"
                  },
                  "startDateTime": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/catalogue-api/createProductPlanUsingPOST')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'catalogue-api')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'catalogue-api', '5f3c59b3d4ce8413bc65b6bf')]"
      ],
      "properties": {
        "displayName": "createProductPlan",
        "method": "POST",
        "urlTemplate": "/productCatalog/v2/products",
        "templateParameters": [],
        "description": "createProductPlan",
        "request": {
          "description": "catalogueCreateRequest",
          "queryParameters": [],
          "headers": [
            {
              "name": "UNICA-ServiceId",
              "type": "string",
              "defaultValue": "1b567df3-0fa8-4ad2-ab0b-a97291904361",
              "required": true,
              "values": []
            },
            {
              "name": "UNICA-Application",
              "type": "string",
              "defaultValue": "wappe",
              "required": true,
              "values": []
            },
            {
              "name": "UNICA-PID",
              "type": "string",
              "defaultValue": "550e8400-e29b-41d4-a716-446655440000",
              "required": true,
              "values": []
            },
            {
              "name": "UNICA-User",
              "type": "string",
              "defaultValue": "admin",
              "required": true,
              "values": []
            },
            {
              "name": "X-IBM-Client-Id",
              "type": "string",
              "defaultValue": "9a8ba84e-35ba-4488-0de1-04e436f3e38e",
              "values": []
            },
            {
              "name": "Authorization",
              "type": "string",
              "defaultValue": "Bearer kZTctMDRlNDM2ZmVlMzBl3gw3C83XdPUdxwYjC5dqonYG_YLvIggUf",
              "values": []
            }
          ],
          "representations": [
            {
              "contentType": "application/json",
              "schemaId": "5f3c59b3d4ce8413bc65b6bf",
              "typeName": "CatalogueCreateRequest"
            }
          ]
        },
        "responses": [
          {
            "statusCode": 201,
            "description": "Created",
            "representations": [
              {
                "contentType": "*/*",
                "schemaId": "5f3c59b3d4ce8413bc65b6bf",
                "typeName": "CatalogueCreateResponse"
              }
            ],
            "headers": []
          }
        ]
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/catalogue-api/createProductPlanUsingPOST/catalogue-controller')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'catalogue-api', 'createProductPlanUsingPOST')]"
      ],
      "properties": {
        "displayName": "catalogue-controller"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/catalogue-api/filterCatalogueUsingGET')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'catalogue-api')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'catalogue-api', '5f3c59b3d4ce8413bc65b6bf')]"
      ],
      "properties": {
        "displayName": "filterCatalogue",
        "method": "GET",
        "urlTemplate": "/productCatalog/v2/products",
        "templateParameters": [],
        "description": "filterCatalogue",
        "request": {
          "queryParameters": [
            {
              "name": "correlationId",
              "description": "correlationId",
              "type": "string",
              "values": []
            },
            {
              "name": "name",
              "description": "name",
              "type": "string",
              "values": []
            },
            {
              "name": "isBundle",
              "description": "isBundle",
              "type": "boolean",
              "values": []
            },
            {
              "name": "lifeCycleStatus",
              "description": "lifeCycleStatus",
              "type": "string",
              "values": []
            },
            {
              "name": "category.id",
              "description": "category.id",
              "type": "string",
              "values": []
            },
            {
              "name": "category.name",
              "description": "category.name",
              "type": "string",
              "values": []
            },
            {
              "name": "brand",
              "description": "brand",
              "type": "string",
              "values": []
            },
            {
              "name": "productNumber",
              "description": "productNumber",
              "type": "string",
              "values": []
            },
            {
              "name": "relatedProduct.id",
              "description": "relatedProduct.id",
              "type": "string",
              "values": []
            },
            {
              "name": "startDate",
              "description": "startDate",
              "type": "string",
              "values": []
            },
            {
              "name": "endDate",
              "description": "endDate",
              "type": "string",
              "values": []
            },
            {
              "name": "limit",
              "description": "limit",
              "type": "string",
              "defaultValue": "10",
              "values": []
            },
            {
              "name": "offset",
              "description": "offset",
              "type": "string",
              "defaultValue": "0",
              "values": []
            },
            {
              "name": "deep",
              "description": "deep",
              "type": "string",
              "values": []
            },
            {
              "name": "fields",
              "description": "fields",
              "type": "string",
              "values": []
            }
          ],
          "headers": [
            {
              "name": "UNICA-ServiceId",
              "type": "string",
              "defaultValue": "1b567df3-0fa8-4ad2-ab0b-a97291904361",
              "required": true,
              "values": []
            },
            {
              "name": "UNICA-Application",
              "type": "string",
              "defaultValue": "wappe",
              "required": true,
              "values": []
            },
            {
              "name": "UNICA-PID",
              "type": "string",
              "defaultValue": "550e8400-e29b-41d4-a716-446655440000",
              "required": true,
              "values": []
            },
            {
              "name": "UNICA-User",
              "type": "string",
              "defaultValue": "admin",
              "required": true,
              "values": []
            },
            {
              "name": "X-IBM-Client-Id",
              "type": "string",
              "defaultValue": "9a8ba84e-35ba-4488-0de1-04e436f3e38e",
              "values": []
            },
            {
              "name": "Authorization",
              "type": "string",
              "defaultValue": "Bearer kZTctMDRlNDM2ZmVlMzBl3gw3C83XdPUdxwYjC5dqonYG_YLvIggUf",
              "values": []
            }
          ],
          "representations": []
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "OK",
            "representations": [
              {
                "contentType": "*/*",
                "schemaId": "5f3c59b3d4ce8413bc65b6bf",
                "typeName": "CatalogueListResponse"
              }
            ],
            "headers": []
          }
        ]
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/catalogue-api/filterCatalogueUsingGET/catalogue-controller')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'catalogue-api', 'filterCatalogueUsingGET')]"
      ],
      "properties": {
        "displayName": "catalogue-controller"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/catalogue-api/getCataloguePlanUsingGET')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'catalogue-api')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'catalogue-api', '5f3c59b3d4ce8413bc65b6bf')]"
      ],
      "properties": {
        "displayName": "getCataloguePlan",
        "method": "GET",
        "urlTemplate": "/productCatalog/v2/products/plans/{planId}",
        "templateParameters": [
          {
            "name": "planId",
            "description": "planId",
            "type": "string",
            "required": true,
            "values": []
          }
        ],
        "description": "getCataloguePlan",
        "request": {
          "queryParameters": [],
          "headers": [
            {
              "name": "UNICA-ServiceId",
              "type": "string",
              "defaultValue": "1b567df3-0fa8-4ad2-ab0b-a97291904361",
              "required": true,
              "values": []
            },
            {
              "name": "UNICA-Application",
              "type": "string",
              "defaultValue": "wappe",
              "required": true,
              "values": []
            },
            {
              "name": "UNICA-PID",
              "type": "string",
              "defaultValue": "550e8400-e29b-41d4-a716-446655440000",
              "required": true,
              "values": []
            },
            {
              "name": "UNICA-User",
              "type": "string",
              "defaultValue": "admin",
              "required": true,
              "values": []
            },
            {
              "name": "X-IBM-Client-Id",
              "type": "string",
              "defaultValue": "9a8ba84e-35ba-4488-0de1-04e436f3e38e",
              "values": []
            },
            {
              "name": "Authorization",
              "type": "string",
              "defaultValue": "Bearer kZTctMDRlNDM2ZmVlMzBl3gw3C83XdPUdxwYjC5dqonYG_YLvIggUf",
              "values": []
            }
          ],
          "representations": []
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "OK",
            "representations": [
              {
                "contentType": "*/*",
                "schemaId": "5f3c59b3d4ce8413bc65b6bf",
                "typeName": "PlanResponse"
              }
            ],
            "headers": []
          }
        ]
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/catalogue-api/getCataloguePlanUsingGET/catalogue-controller')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'catalogue-api', 'getCataloguePlanUsingGET')]"
      ],
      "properties": {
        "displayName": "catalogue-controller"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/catalogue-api/getProductIdUsingGET')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'catalogue-api')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'catalogue-api', '5f3c59b3d4ce8413bc65b6bf')]"
      ],
      "properties": {
        "displayName": "getProductId",
        "method": "GET",
        "urlTemplate": "/productCatalog/v2/products/{productId}",
        "templateParameters": [
          {
            "name": "productId",
            "description": "productId",
            "type": "string",
            "required": true,
            "values": []
          }
        ],
        "description": "getProductId",
        "request": {
          "queryParameters": [
            {
              "name": "fields",
              "description": "fields",
              "type": "string",
              "values": []
            }
          ],
          "headers": [
            {
              "name": "UNICA-ServiceId",
              "type": "string",
              "defaultValue": "1b567df3-0fa8-4ad2-ab0b-a97291904361",
              "required": true,
              "values": []
            },
            {
              "name": "UNICA-Application",
              "type": "string",
              "defaultValue": "wappe",
              "required": true,
              "values": []
            },
            {
              "name": "UNICA-PID",
              "type": "string",
              "defaultValue": "550e8400-e29b-41d4-a716-446655440000",
              "required": true,
              "values": []
            },
            {
              "name": "UNICA-User",
              "type": "string",
              "defaultValue": "admin",
              "required": true,
              "values": []
            },
            {
              "name": "X-IBM-Client-Id",
              "type": "string",
              "defaultValue": "9a8ba84e-35ba-4488-0de1-04e436f3e38e",
              "values": []
            },
            {
              "name": "Authorization",
              "type": "string",
              "defaultValue": "Bearer kZTctMDRlNDM2ZmVlMzBl3gw3C83XdPUdxwYjC5dqonYG_YLvIggUf",
              "values": []
            }
          ],
          "representations": []
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "OK",
            "representations": [
              {
                "contentType": "*/*",
                "schemaId": "5f3c59b3d4ce8413bc65b6bf",
                "typeName": "CatalogueListResponse"
              }
            ],
            "headers": []
          }
        ]
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/catalogue-api/getProductIdUsingGET/catalogue-controller')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'catalogue-api', 'getProductIdUsingGET')]"
      ],
      "properties": {
        "displayName": "catalogue-controller"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/catalogue-api/updatePlanUsingPUT')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'catalogue-api')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'catalogue-api', '5f3c59b3d4ce8413bc65b6bf')]"
      ],
      "properties": {
        "displayName": "updatePlan",
        "method": "PUT",
        "urlTemplate": "/productCatalog/v2/products/plans/{planId}",
        "templateParameters": [
          {
            "name": "planId",
            "description": "planId",
            "type": "string",
            "required": true,
            "values": []
          }
        ],
        "description": "updatePlan",
        "request": {
          "description": "request",
          "queryParameters": [],
          "headers": [
            {
              "name": "UNICA-ServiceId",
              "type": "string",
              "defaultValue": "1b567df3-0fa8-4ad2-ab0b-a97291904361",
              "required": true,
              "values": []
            },
            {
              "name": "UNICA-Application",
              "type": "string",
              "defaultValue": "wappe",
              "required": true,
              "values": []
            },
            {
              "name": "UNICA-PID",
              "type": "string",
              "defaultValue": "550e8400-e29b-41d4-a716-446655440000",
              "required": true,
              "values": []
            },
            {
              "name": "UNICA-User",
              "type": "string",
              "defaultValue": "admin",
              "required": true,
              "values": []
            },
            {
              "name": "X-IBM-Client-Id",
              "type": "string",
              "defaultValue": "9a8ba84e-35ba-4488-0de1-04e436f3e38e",
              "values": []
            },
            {
              "name": "Authorization",
              "type": "string",
              "defaultValue": "Bearer kZTctMDRlNDM2ZmVlMzBl3gw3C83XdPUdxwYjC5dqonYG_YLvIggUf",
              "values": []
            }
          ],
          "representations": [
            {
              "contentType": "application/json",
              "schemaId": "5f3c59b3d4ce8413bc65b6bf",
              "typeName": "PlanRequest"
            }
          ]
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "OK",
            "representations": [
              {
                "contentType": "*/*",
                "schemaId": "5f3c59b3d4ce8413bc65b6bf",
                "typeName": "CatalogueUpdateResponse"
              }
            ],
            "headers": []
          }
        ]
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/catalogue-api/updatePlanUsingPUT/catalogue-controller')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'catalogue-api', 'updatePlanUsingPUT')]"
      ],
      "properties": {
        "displayName": "catalogue-controller"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/catalogue-api/updateProductUsingPUT')]",
      "type": "Microsoft.ApiManagement/service/apis/operations",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'catalogue-api')]",
        "[resourceId('Microsoft.ApiManagement/service/apis/schemas', parameters('ApimServiceName'), 'catalogue-api', '5f3c59b3d4ce8413bc65b6bf')]"
      ],
      "properties": {
        "displayName": "updateProduct",
        "method": "PUT",
        "urlTemplate": "/productCatalog/v2/products/{productId}",
        "templateParameters": [
          {
            "name": "productId",
            "description": "productId",
            "type": "string",
            "required": true,
            "values": []
          }
        ],
        "description": "updateProduct",
        "request": {
          "description": "createRequest",
          "queryParameters": [],
          "headers": [
            {
              "name": "UNICA-ServiceId",
              "type": "string",
              "defaultValue": "1b567df3-0fa8-4ad2-ab0b-a97291904361",
              "required": true,
              "values": []
            },
            {
              "name": "UNICA-Application",
              "type": "string",
              "defaultValue": "wappe",
              "required": true,
              "values": []
            },
            {
              "name": "UNICA-PID",
              "type": "string",
              "defaultValue": "550e8400-e29b-41d4-a716-446655440000",
              "required": true,
              "values": []
            },
            {
              "name": "UNICA-User",
              "type": "string",
              "defaultValue": "admin",
              "required": true,
              "values": []
            },
            {
              "name": "X-IBM-Client-Id",
              "type": "string",
              "defaultValue": "9a8ba84e-35ba-4488-0de1-04e436f3e38e",
              "values": []
            },
            {
              "name": "Authorization",
              "type": "string",
              "defaultValue": "Bearer kZTctMDRlNDM2ZmVlMzBl3gw3C83XdPUdxwYjC5dqonYG_YLvIggUf",
              "values": []
            }
          ],
          "representations": [
            {
              "contentType": "application/json",
              "schemaId": "5f3c59b3d4ce8413bc65b6bf",
              "typeName": "CatalogueCreateRequest"
            }
          ]
        },
        "responses": [
          {
            "statusCode": 200,
            "description": "OK",
            "representations": [
              {
                "contentType": "*/*",
                "schemaId": "5f3c59b3d4ce8413bc65b6bf",
                "typeName": "CatalogueUpdateResponse"
              }
            ],
            "headers": []
          }
        ]
      },
      "resources": []
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/catalogue-api/updateProductUsingPUT/catalogue-controller')]",
      "type": "Microsoft.ApiManagement/service/apis/operations/tags",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis/operations', parameters('ApimServiceName'), 'catalogue-api', 'updateProductUsingPUT')]"
      ],
      "properties": {
        "displayName": "catalogue-controller"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/catalogue-api/policy')]",
      "type": "Microsoft.ApiManagement/service/apis/policies",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'catalogue-api')]"
      ],
      "properties": {
        "format": "rawxml-link",
        "value": "[concat(parameters('PolicyXMLBaseUrl'), '/catalogue-api-apiPolicy.xml')]"
      }
    },
    {
      "name": "[concat(parameters('ApimServiceName'), '/', parameters('ProductsApiName').unlimited, '/', 'catalogue-api')]",
      "type": "Microsoft.ApiManagement/service/products/apis",
      "apiVersion": "2019-01-01",
      "dependsOn": [
        "[resourceId('Microsoft.ApiManagement/service/apis', parameters('ApimServiceName'), 'catalogue-api')]"
      ],
      "properties": {}
    }
  ],
  "outputs": {}
}